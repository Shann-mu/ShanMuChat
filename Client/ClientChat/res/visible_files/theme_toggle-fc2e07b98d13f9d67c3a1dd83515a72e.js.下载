window.ThemeSelector=function(){function e(){var e=localStorage.getItem("theme");return e=e&&["light","dark","system"].includes(e)?e:"system"}function t(){var e=["theme-options","theme-options-mobile","theme-arrow","theme-arrow-mobile"].map(function(e){return document.getElementById(e)}),t=e[0],o=e[1],n=e[2],m=e[3];t&&(t.style.display="none",n&&(n.className="fa fa-angle-down theme-arrow")),o&&(o.style.display="none",m&&(m.className="fa fa-angle-down theme-arrow-mobile"))}function o(e){var t,o,n=["theme-icon","theme-icon-mobile"].map(function(e){return document.getElementById(e)}),m=n[0],l=n[1],a="fa fa-adjust",i="\u8ddf\u968f\u7cfb\u7edf";e===g?(a="fa fa-sun-o",i="\u4eae\u8272\u6a21\u5f0f"):e===f&&(a="fa fa-moon-o",i="\u6697\u9ed1\u6a21\u5f0f"),m&&(m.className=a,(t=m.closest(".theme-selector"))&&(t.title=i)),l&&(l.className=a,(o=l.closest(".theme-selector-btn-mobile"))&&(o.title=i))}function n(e){var t,o,n,m=["theme-system-option","theme-light-option","theme-dark-option","theme-system-option-mobile","theme-light-option-mobile","theme-dark-option-mobile"].map(function(e){return document.getElementById(e)}),l=m[0],a=m[1],i=m[2],s=m[3],r=m[4],d=m[5],c=[];for(t=0;t<m.length;t++)(o=m[t])&&o.classList.remove("selected","active");for(e===u?c.push(l,s):e===g?c.push(a,r):e===f&&c.push(i,d),t=0;t<c.length;t++)(n=c[t])&&n.classList.add("selected")}function m(e){e===u?(document.documentElement.classList.remove("dark-mode-override"),document.documentElement.classList.remove("dark-mode")):(document.documentElement.classList.add("dark-mode-override"),e===f?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode"))}function l(e){localStorage.setItem("theme",e),m(e),o(e),n(e),t()}function a(e){var t=document.getElementById("theme-options"),o=document.getElementById("theme-arrow");e&&e.stopPropagation(),t&&("none"!==t.style.display?(t.style.display="none",o&&(o.className="fa fa-angle-down theme-arrow")):(t.style.display="block",o&&(o.className="fa fa-angle-up theme-arrow")))}function i(){var e=document.getElementById("theme-options-mobile"),t=document.getElementById("theme-arrow-mobile");e&&("none"!==e.style.display?(e.style.display="none",t&&(t.className="fa fa-angle-down theme-arrow-mobile")):(e.style.display="block",t&&(t.className="fa fa-angle-up theme-arrow-mobile")))}function s(){var t=e();m(t),o(t),n(t)}function r(){w&&p&&(w.removeEventListener?w.removeEventListener("change",p):w.removeListener(p)),y&&document.removeEventListener("click",y),w=null,p=null,y=null}function d(){window.matchMedia&&(w=window.matchMedia("(prefers-color-scheme: dark)"),p=function(){e()===u&&m(u)},w.addEventListener?w.addEventListener("change",p):w.addListener(p))}function c(e){e.target.closest(".theme-selector, .theme-selector-mobile, .theme-options, .theme-options-mobile")||t()}function h(){r(),s(),d(),y=c,document.addEventListener("click",y)}var u="system",g="light",f="dark",w=null,p=null,y=null;return window.ThemeSelector&&window.ThemeSelector.initialized?window.ThemeSelector:("loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h(),{setTheme:l,toggleThemeSelector:a,toggleThemeSelectorMobile:i,getCurrentTheme:e,initialized:!0})}(),window.setTheme=window.ThemeSelector.setTheme,window.toggleThemeSelector=window.ThemeSelector.toggleThemeSelector,window.toggleThemeSelectorMobile=window.ThemeSelector.toggleThemeSelectorMobile;